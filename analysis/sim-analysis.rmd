---
title: "GCI Impact Simulated"
author: "David Ferreira Quaresma (david.quaresma@ccc.ufcg.edu.br)"
date: "october, 2019"
output: pdf_document
---

# Simulation results: GCI vs NOGCI
```{r echo=FALSE, results='hide', message=FALSE}
source("functions.R")
sim_result_path = "../simulation/results/"
gci_normscheduler   = data.frame()
gci_opscheduler     = data.frame()
gci_opgcischeduler  = data.frame()
nogci_normscheduler = data.frame()
nogci_opscheduler   = data.frame()
for(i in 1:5){
  gci_normscheduler   = rbind(gci_normscheduler, filter(read.al.sim(paste(sim_result_path, "sim-pp-gci", as.character(i),   "-normscheduler-reqs",  ".csv", sep="")), status == 200))
  gci_opscheduler     = rbind(gci_opscheduler, filter(read.al.sim(paste(sim_result_path, "sim-pp-gci", as.character(i),   "-opscheduler-reqs",    ".csv", sep="")), status == 200))
  gci_opgcischeduler  = rbind(gci_opgcischeduler, filter(read.al.sim(paste(sim_result_path, "sim-pp-gci", as.character(i),   "-opgcischeduler-reqs", ".csv", sep="")), status == 200))
  nogci_normscheduler = rbind(nogci_normscheduler, filter(read.al.sim(paste(sim_result_path, "sim-pp-nogci", as.character(i), "-normscheduler-reqs",  ".csv", sep="")), status == 200))
  nogci_opscheduler   = rbind(nogci_opscheduler, filter(read.al.sim(paste(sim_result_path, "sim-pp-nogci", as.character(i), "-opscheduler-reqs",    ".csv", sep="")), status == 200))
}
gci_normscheduler$response_time   = gci_normscheduler$response_time * 1000
gci_opscheduler$response_time     = gci_opscheduler$response_time * 1000
gci_opgcischeduler$response_time  = gci_opgcischeduler$response_time * 1000
nogci_normscheduler$response_time = nogci_normscheduler$response_time * 1000
nogci_opscheduler$response_time   = nogci_opscheduler$response_time * 1000
```

#### ECDF for response time of all simulation
```{r  fig.width=15, fig.height=5, echo=FALSE}
tecdf_nsched     = "ECDF RESPONSE TIME - NORM SCHEDULER"
tecdf_opsched    = "ECDF RESPONSE TIME - OP SCHEDULER"
tecdf_opgcisched = "ECDF RESPONSE TIME - OP GCI SCHEDULER"
graph_tail(gci_normscheduler$response_time,  nogci_normscheduler$response_time, c("GCI", "NOGCI"),     title=tecdf_nsched, x_limit_sup=100)
graph_tail(gci_opscheduler$response_time,   nogci_opscheduler$response_time,  c("GCI", "NOGCI"),    title=tecdf_opsched, x_limit_sup=100)
graph_tail(gci_opgcischeduler$response_time, nogci_opscheduler$response_time, c("GCI", "NOGCI"), title=tecdf_opgcisched, x_limit_sup=100)
```

#### summary table of confidence interval for response time, both in milliseconds, of all simulation
```{r  fig.width=15, fig.height=5, echo=FALSE}
summary_table( gci_normscheduler$response_time, "gci", nogci_normscheduler$response_time, "nogci")
summary_table(   gci_opscheduler$response_time, "gci",   nogci_opscheduler$response_time, "nogci")
summary_table(gci_opgcischeduler$response_time, "gci",   nogci_opscheduler$response_time, "nogci")
```

#### comparison table for response time, of all simulation
```{r  fig.width=15, fig.height=5, echo=FALSE}
quantiles_dataframe_comparison(nogci_normscheduler$response_time,  gci_normscheduler$response_time)
quantiles_dataframe_comparison(nogci_opscheduler$response_time,      gci_opscheduler$response_time)
quantiles_dataframe_comparison(nogci_opscheduler$response_time,   gci_opgcischeduler$response_time)
```

#### Visualizing metrics
```{r  fig.width=15, fig.height=5, echo=FALSE}
sim_metrics = data.frame()
for(i in 1:5){
  sim_metrics = rbind(sim_metrics, read.al.sim(paste(sim_result_path, "sim", as.character(i), "-metrics", ".csv", sep="")))
}
sim_metrics
```
